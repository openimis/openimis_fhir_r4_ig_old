{
  "resourceType": "StructureDefinition",
  "url": "http://somewhere.org/fhir/StructureDefinition/Patient",
  "name": "Patient",
  "description": "The openIMIS Insuree object mapped to the FHIR R4 Patient resource",
  "status": "draft",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    },
    {
      "identity": "v2",
      "uri": "http://hl7.org/v2",
      "name": "HL7 v2 Mapping"
    },
    {
      "identity": "loinc",
      "uri": "http://loinc.org",
      "name": "LOINC code for the element"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Patient",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/DomainResource",
  "derivation": "specialization",
  "differential": {
    "element": [
      {
        "id": "Patient",
        "path": "Patient",
        "definition": "The openIMIS insuree object (from the openimis-be-insuree_py module) was mapped to the FHIR R4 Patient resource",
        "short": "The openIMIS insuree object"
      },
      {
        "id": "Patient.identifier",
        "path": "Patient.identifier",
        "min": 0,
        "max": "*",
        "definition": "openIMIS field: InsureeID / CHFID / passport / TypeOfId / InsureeUUID",
        "comment": "InsureeID, CHFID, passport, InsureeUUID are mapped"
      },
      {
        "id": "Patient.name",
        "path": "Patient.name",
        "min": 1,
        "max": "*",
        "definition": "Last name and other names will be mapped here",
        "comment": "Mapped"
      },
      {
        "id": "Patient.birthDate",
        "path": "Patient.birthDate",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "date"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ]
      },
      {
        "id": "Patient.gender",
        "path": "Patient.gender",
        "short": "Male | Female | Other",
        "definition": "Administrative Gender - the gender that the contact person is considered to have for administration and record keeping purposes. Gender field in openIMIS",
        "requirements": "Needed to address the person correctly.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Patient.gender",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "code"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": true,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "AdministrativeGender"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding",
              "valueBoolean": true
            }
          ],
          "strength": "required",
          "description": "The gender of a person used for administrative purposes.",
          "valueSet": "http://somewhere.org/fhir/ValueSet/vs-gendercodes"
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "NK1-15"
          },
          {
            "identity": "rim",
            "map": "player[classCode\u003dPSN|ANM and determinerCode\u003dINSTANCE]/administrativeGender"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ],
        "comment": "mapped"
      },
      {
        "id": "Patient.maritalStatus",
        "path": "Patient.maritalStatus",
        "short": "Marital (civil) status of a patient",
        "definition": "This field contains a patient\u0027s most recent marital (civil) status.",
        "requirements": "Most, if not all systems capture it.",
        "min": 0,
        "max": "1",
        "base": {
          "path": "Patient.maritalStatus",
          "min": 0,
          "max": "1"
        },
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": false,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "MaritalStatus"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-isCommonBinding",
              "valueBoolean": true
            }
          ],
          "strength": "extensible",
          "description": "The domestic partnership status of a person.",
          "valueSet": "http://hl7.org/fhir/ValueSet/marital-status"
        },
        "mapping": [
          {
            "identity": "v2",
            "map": "PID-16"
          },
          {
            "identity": "rim",
            "map": "player[classCode\u003dPSN]/maritalStatusCode"
          },
          {
            "identity": "cda",
            "map": ".patient.maritalStatusCode"
          }
        ]
      },
      {
        "id": "Patient.telecom",
        "path": "Patient.telecom",
        "short": "A contact detail for the individual",
        "definition": "A contact detail (e.g. a telephone number or an email address) by which the individual may be contacted.",
        "comment": "A Patient may have multiple ways to be contacted with different uses or applicable periods.  May need to have options for contacting the person urgently and also to help with identification. The address might not go directly to the individual, but may reach another party that is able to proxy for the patient (i.e. home phone, or pet owner\u0027s phone).",
        "requirements": "People have (primary) ways to contact them in some way such as phone, email.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Patient.telecom",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "ContactPoint"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "PID-13, PID-14, PID-40"
          },
          {
            "identity": "rim",
            "map": "telecom"
          },
          {
            "identity": "cda",
            "map": ".telecom"
          }
        ]
      },
      {
        "id": "Patient.photo",
        "path": "Patient.photo",
        "short": "Image of the patient",
        "definition": "Image of the patient.",
        "comment": "Guidelines:\n* Use id photos, not clinical photos.\n* Limit dimensions to thumbnail.\n* Keep byte count low to ease resource updates.",
        "requirements": "Many EHR systems have the capability to capture an image of the patient. Fits with newer social media usage too.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Patient.photo",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Attachment"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "v2",
            "map": "OBX-5 - needs a profile"
          },
          {
            "identity": "rim",
            "map": "player[classCode\u003dPSN|ANM and determinerCode\u003dINSTANCE]/desc"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Patient.generalPractitioner",
        "path": "Patient.generalPractitioner",
        "short": "Patient\u0027s nominated primary care provider",
        "definition": "Patient\u0027s nominated care provider.",
        "comment": "This may be the primary care provider (in a GP context)",
        "alias": [
          "careProvider",
          "HFID"
        ],
        "min": 0,
        "max": "*",
        "base": {
          "path": "Patient.generalPractitioner",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Organization",
              "http://hl7.org/fhir/StructureDefinition/Practitioner",
              "http://hl7.org/fhir/StructureDefinition/PractitionerRole"
            ]
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": false,
        "mapping": [
          {
            "identity": "v2",
            "map": "PD1-4"
          },
          {
            "identity": "rim",
            "map": "subjectOf.CareEvent.performer.AssignedEntity"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Patient.address",
        "path": "Pattient.address",
        "short": "The address of the patient.",
        "alias": [
          "CurrentAddress",
          "GeoLocation"
        ],
        "definition": "The address of the patient",
        "comment": "It may contain multiple addresses",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Patient.address",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "address"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "PID-11"
          },
          {
            "identity": "rim",
            "map": "addr"
          },
          {
            "identity": "cda",
            "map": ".addr"
          }
        ]
      },
      {
        "id": "Patient.link",
        "path": "Patient.link",
        "short": "Link to another patient resource that concerns the same actual person",
        "definition": "Link to another patient resource that concerns the same actual patient.",
        "comment": "There is no assumption that linked patient records have mutual links.",
        "requirements": "There are multiple use cases:   \n\n* Duplicate patient records due to the clerical errors associated with the difficulties of identifying humans consistently, and \n* Distribution of patient information across multiple servers.",
        "min": 0,
        "max": "*",
        "base": {
          "path": "Patient.link",
          "min": 0,
          "max": "*"
        },
        "type": [
          {
            "code": "BackboneElement"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": true,
        "isModifierReason": "This element is labeled as a modifier because it might not be the main Patient resource, and the referenced patient should be used instead of this Patient record. This is when the link.type value is \u0027replaced-by\u0027",
        "isSummary": true,
        "mapping": [
          {
            "identity": "rim",
            "map": "outboundLink"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Patient.link.other",
        "path": "Patient.link.other",
        "short": "The other patient or related person resource that the link refers to",
        "definition": "The other patient resource that the link refers to.",
        "comment": "Referencing a RelatedPerson here removes the need to use a Person record to associate a Patient and RelatedPerson as the same individual.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Patient.link.other",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/structuredefinition-hierarchy",
                "valueBoolean": false
              }
            ],
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Patient",
              "http://hl7.org/fhir/StructureDefinition/RelatedPerson"
            ]
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": true,
        "mapping": [
          {
            "identity": "v2",
            "map": "PID-3, MRG-1"
          },
          {
            "identity": "rim",
            "map": "id"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Patient.link.type",
        "path": "Patient.link.type",
        "short": "replaced-by | replaces | refer | seealso",
        "definition": "The type of link between this patient resource and another patient resource.",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Patient.link.type",
          "min": 1,
          "max": "1"
        },
        "type": [
          {
            "code": "code"
          }
        ],
        "constraint": [
          {
            "key": "ele-1",
            "severity": "error",
            "human": "All FHIR elements must have a @value or children",
            "expression": "hasValue() or (children().count() \u003e id.count())",
            "xpath": "@value|f:*|h:div",
            "source": "http://hl7.org/fhir/StructureDefinition/Element"
          }
        ],
        "isModifier": false,
        "isSummary": true,
        "binding": {
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName",
              "valueString": "LinkType"
            }
          ],
          "strength": "required",
          "description": "The type of link between this patient resource and another patient resource.",
          "valueSet": "http://hl7.org/fhir/ValueSet/link-type|4.0.1"
        },
        "mapping": [
          {
            "identity": "rim",
            "map": "typeCode"
          },
          {
            "identity": "cda",
            "map": "n/a"
          }
        ]
      },
      {
        "id": "Patient.extension.isHead",
        "path": "Patient.extension.isHead",
        "base": {
          "path": "Patient.extension.isHead",
          "min": 0,
          "max": "1"
        },
        "short": "Head of the family",
        "definition": "We are taking this to evaluate whether the person is the Head of the family",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ],
        "isModifier": true,
        "isModifierReason": "If this is not marked then it will not e counted to evaluate the household unit",
        "requirements": "To evaluate the households and individuals enrolled",
        "isSummary": true,
        "comment": "This element is being utilized to identify Households and individuals enrolled in the application. It is also being used to calculate indicators/disaggregation where data is reqquired separately for households and individuals."
      },
      {
        "id": "Patient.extension.registrationDate",
        "path": "Patient.extension.registrationDate",
        "base": {
          "path": "Patient.extension.registrationDate",
          "min": 0,
          "max": "1"
        },
        "short": "Entity registration Date",
        "definition": "The date in which an entity is registered to the system e.g. the date in which an entity enrolls in the system",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ],
        "isModifier": false,
        "requirements": "To identify the enrollment date of an individual or household in the system",
        "isSummary": true,
        "comment": "This is needed to identify an enrollment date of the individual/household in the application. This is being utilized to calculate the indicators where a specific time frame is defined."
      },
      {
        "id": "Patient.extension.locationCode",
        "path": "Patient.extension.locationCode",
        "base": {
          "path": "Patient.extension.locationCode",
          "min": 0,
          "max": "1"
        },
        "short": "Entity registration Date",
        "definition": "The date in which an entity is registered to the system e.g. the date in which an entity enrolls in the system",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "isModifier": false,
        "requirements": "Required to inspect from which level the person is coming from i.e. Region, District, Municipality or Village",
        "isSummary": true,
        "comment": "To identify the kind of locality the patient is coming from. This is being utilized to calculate indicators with location-specific disaggregations"
      },
      {
        "id": "Patient.extension.educationCode.valueCoding.code",
        "path": "Patient.extension.educationCode.valueCoding.code",
        "base": {
          "path": "Patient.extension.educationCode.valueCoding.code",
          "min": 0,
          "max": "1"
        },
        "short": "Code of the education level of the insuree",
        "definition": "Code of the education level of the insuree",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "isModifier": false,
        "requirements": "To see the level of education to understand the literacy level",
        "isSummary": false,
        "comment": "To report the education level of the insuree. The options are Nursery, Primary School, Secondary school, University, Postgraduate studies, PhD, Other. This is used to calculate indicators that require disaggregations for education e.g. education level of the household members, etc."
      },
      {
        "id": "Patient.extension.educationCode.valueCoding.display",
        "path": "Patient.extension.educationCode.valueCoding.display",
        "base": {
          "path": "Patient.extension.educationCode.valueCoding.display",
          "min": 0,
          "max": "1"
        },
        "short": "Education level of the insuree",
        "definition": "Education level of the insuree",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "string"
          }
        ],
        "isModifier": false,
        "requirements": "To see the level of education to understand the literacy level",
        "isSummary": false,
        "comment": "To report the education level of the insuree. The options are Nursery, Primary School, Secondary school, University, Postgraduate studies, PhD, Other. This is used to calculate indicators that require disaggregations for education e.g. education level of the household members, etc."
      },
      {
        "id": "Patient.extension.povertyStatus",
        "path": "Patient.extension.povertyStatus",
        "base": {
          "path": "Patient.extension.povertyStatus",
          "min": 0,
          "max": "1"
        },
        "short": "Person's family poverty status",
        "definition": "Required to evaluate whether the person's family has the poverty status",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ],
        "isModifier": true,
        "isModifierReason": "If not marked then it will not be counted to evaluate the household unit",
        "requirements": "To evaluate the households and individuals enrolled",
        "isSummary": true,
        "comment": "This element is being utilized to identify households and individuals enrolled in the application. It is also being used to calculate indicators / disaggregation where data is required separately for households and individuals."
      },
      {
        "id": "Patient.extension.group",
        "path": "Patient.extension.group",
        "base": {
          "path": "Patient.extension.group",
          "min": 0,
          "max": "1"
        },
        "short": "openIMIS Family object",
        "definition": "The openIMIS Family object (from the openimis-be-insuree_py module) is mapped to the FHIR R4 Group resource",
        "min": 0,
        "max": "1",
        "type": [
          {
            "code": "Group"
          }
        ],
        "isModifier": false,
        "isSummary": false
      }
    ]
  }
}